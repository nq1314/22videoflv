<!DOCTYPE html>
<html>
<meta charset="utf8">
<head>
<style>
 canvas{width: 100%;height: 100%;z-index: 2;} /*这里是将下面canvas绘制放大后的视频缩小为设备的大小*/
  video{display: none} 
    .font{
        position: fixed;
        color: #0ff;
        left: 0;
        top:0;
        font-size: 50px;
        z-index: 99999;
    }
    .palyChange{
        position: fixed;
        color: #0ff;
        left: 0;
        top:0;
        font-size: 50px;
        z-index: 99999;
        bottom: 0;
        right: 0;
        margin: auto;
        line-height: 100%;
    }
</style>
<script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<link type="text/css" rel="stylesheet" href="style.css">

</head>
<body>
        <video  style="position: relative;  object-fit: fill;"   
        loop id="video" 
        x5-video-player-type="h5" 
        x5-video-orientation="h5"
         x5-video-player-fullscreen="true" 
         x-webkit-airplay="true" x5-playsinline="true" 
         webkit-playsinline="true" 
         playsinline="true"
         autoplay
           src="cc.mp4"></video>
        <canvas id="myCanvas" width="400" height="400"></canvas>
        <img src='img.png' id='poster' style='display: none;' >
        <div class='palyChange'>播放</div>
        <div class="font">1111111111</div>
        

</body>
<script>
              var timer=null;
              var video=document.getElementById('video');
              var poster=document.getElementById('poster'); //用于视频初始化poster图片
              var canvas = document.getElementById("myCanvas");
              var context = canvas.getContext("2d");
              canvas.width = window.innerWidth*2;  //获取屏幕宽度作为canvas的宽度  这个设置的越大，画面越清晰（相当于绘制的图像大，然后被css缩小）
              canvas.height = window.innerHeight*2; 
              context.drawImage(poster, 0, 0, canvas.width, canvas.height);//canvas上绘制postere图片 也可以点击播放后隐藏图片无需绘制
              function draw1() {//绘制视频
                 video.play();
                  timer = setInterval(function(){
                    context.drawImage(video, 0, 0, canvas.width, canvas.height);//绘制视频
                 },40);
              };
              draw1() 
              var isplay=false;//视频播放状态
              $('#myCanvas').on('touchstart',function(e){
                  var e=e || event;
                  e.preventDefault();
                  if(!isplay){
                      isplay=true;
                      video.pause();
                      $('.palyChange').show();
                      clearInterval(timer)
                  }else{
                      video.play();
                      $('.palyChange').hide();
                      isplay=false;
                      draw1() 
                  }
                  
              })
            //   $('.palyChange').click(function(){ //初始化暂停状态下 点击播放（开始绘制视频） 
            //           video.play();
            //           $('.palyChange').hide();
            //           isplay=false;
            //           draw1();
            //   });
</script>
</html>
